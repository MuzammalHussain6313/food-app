{"version":3,"sources":["./src/app/charityHouse/feedback/feedback.page.html","./src/app/charityHouse/feedback/feedback.module.ts","./src/app/charityHouse/feedback/feedback.page.scss","./src/app/charityHouse/feedback/feedback.page.ts"],"names":[],"mappings":"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","file":"charityHouse-feedback-feedback-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Feedback</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <form [formGroup]=\\\"feedbackForm\\\">\\n    <ion-grid>\\n      <ion-row color=\\\"justify-content-center\\\">\\n        <ion-col class=\\\"ion-align-self-center\\\" size-md=\\\"6\\\" size-lg=\\\"5\\\" size-xs=\\\"12\\\">\\n          <div class=\\\"ion-text-center\\\">\\n            <h3>Please! provide feedback</h3>\\n          </div>\\n          <div class=\\\"ion-padding\\\">\\n            <ion-item>\\n              <ion-input placeholder=\\\"Email\\\" formControlName=\\\"email\\\"></ion-input>\\n            </ion-item>\\n            <ion-item>\\n              <ion-input placeholder=\\\"subject\\\" formControlName=\\\"subject\\\"></ion-input>\\n            </ion-item>\\n            <ion-item>\\n              <ion-textarea placeholder=\\\"Feedback Message\\\" formControlName=\\\"feedback_message\\\"></ion-textarea>\\n            </ion-item>\\n          </div>\\n          <div class=\\\"ion-padding\\\">\\n            <ion-button size=\\\"default\\\" [disabled]=\\\"feedbackForm.invalid\\\" (click)=\\\"sendFeedback()\\\" color=\\\"primary\\\" type=\\\"submit\\\" expand=\\\"block\\\">Send Feedback</ion-button>\\n          </div>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </form>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FeedbackPage } from './feedback.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FeedbackPage\n  }\n];\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        RouterModule.forChild(routes),\n        ReactiveFormsModule\n    ],\n  declarations: [FeedbackPage]\n})\nexport class FeedbackPageModule {}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NoYXJpdHlIb3VzZS9mZWVkYmFjay9mZWVkYmFjay5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {HttpClient} from '@angular/common/http';\nimport {ListService} from '../../list.service';\nimport {Observable} from 'rxjs';\nimport {AlertController} from '@ionic/angular';\n@Component({\n  selector: 'app-feedback',\n  templateUrl: './feedback.page.html',\n  styleUrls: ['./feedback.page.scss'],\n})\nexport class FeedbackPage implements OnInit {\n  feedbackForm: FormGroup;\n\n  constructor(private route: ActivatedRoute,\n              private http: HttpClient,\n              private router: Router,\n              private service: ListService,\n              private alertController: AlertController,\n              private formBuilder: FormBuilder) {\n  }\n  donnerID; finalFeedbackObject;\n  ngOnInit() {\n    this.route.paramMap.subscribe(paramMap => {\n      this.donnerID = paramMap.get('id');\n      console.log('data coming from donner list.', paramMap.get('id'));\n    });\n    this.formInitializer();\n  }\n\n  formInitializer() {\n    this.feedbackForm = this.formBuilder.group({\n      email: [null, Validators.compose([Validators.required])],\n      subject: [null, [Validators.required]],\n      feedback_message: [null, [Validators.required]]\n    });\n  }\n    sendFeedback() {\n      const test = this.feedbackForm.value;\n      const charityHouse = JSON.parse(localStorage.getItem('charity house'));\n      const charityID = charityHouse.id;\n      console.log('charity id ', charityID);\n      this.finalFeedbackObject = '{\"email\": \"' + test.email + '\",' +\n          ' \"subject\": \"' + test.subject + '\",' +\n          ' \"feedbackMessage\": \"' + test.feedback_message + '\",' +\n          ' \"donner\": { \"id\": ' + this.donnerID + '},' +\n          ' \"charityHouse\": { \"id\": ' + charityID + '}' + '}';\n      console.log('full object', this.finalFeedbackObject);\n      const feedback = JSON.parse(this.finalFeedbackObject);\n      this.saveFeedback(feedback).subscribe(\n          data => {\n            console.log('I got this response -> ', data);\n            this.router.navigate(['donner-list']);\n          },\n          error => {\n            console.log('error', error);\n          }\n      );\n    }\n  saveFeedback(dataObj): Observable<any> {\n    console.log('data recieved for put. ', dataObj);\n    const url = `${this.service.homeUrl}/feedbacks/newFeedback`;\n    this.presentAlertConfirm();\n    return this.http.post(url, dataObj);\n  }\n  async presentAlertConfirm() {\n    const alert = await this.alertController.create({\n      header: 'Confirm!',\n      message: 'Message <strong>text</strong>!!!',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            console.log('Confirm Cancel: blah');\n          }\n        }, {\n          text: 'Okay',\n          handler: () => {\n            console.log('Confirm Okay');\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n}\n"],"sourceRoot":""}
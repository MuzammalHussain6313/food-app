{"version":3,"sources":["./src/app/donner/donate-food/donate-food.page.html","./src/app/donner/donate-food/donate-food.module.ts","./src/app/donner/donate-food/donate-food.page.scss","./src/app/donner/donate-food/donate-food.page.ts"],"names":[],"mappings":";;;;;;;;;AAAA,60DAA60D,MAAM,KAAK,MAAM,+Z;;;;;;;;;;;;;;;;;;;;;;ACArzD;AACM;AACiB;AACT;AAEV;AAEO;AAEpD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,gEAAc;KAC1B;CACF,CAAC;AAYF,IAAa,oBAAoB,GAAjC,MAAa,oBAAoB;CAAG;AAAvB,oBAAoB;IAVhC,8DAAQ,CAAC;QACN,OAAO,EAAE;YACL,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;YAC7B,kEAAmB;SACtB;QACH,YAAY,EAAE,CAAC,gEAAc,CAAC;KAC/B,CAAC;GACW,oBAAoB,CAAG;AAAH;;;;;;;;;;;;AC1BjC,+DAA+D,+J;;;;;;;;;;;;;;;;;;;;;ACAb;AACK;AACP;AACkB;AAEnB;AAO/C,IAAa,cAAc,GAA3B,MAAa,cAAc;IAUzB,YAAoB,KAAqB,EACrB,IAAgB,EAChB,WAAwB,EACxB,OAAoB,EACpB,MAAc;QAJd,UAAK,GAAL,KAAK,CAAgB;QACrB,SAAI,GAAJ,IAAI,CAAY;QAChB,gBAAW,GAAX,WAAW,CAAa;QACxB,YAAO,GAAP,OAAO,CAAa;QACpB,WAAM,GAAN,MAAM,CAAQ;QAVlC,UAAK,GAAc,CAAC,OAAO,EAAE,YAAY,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC;QAE9D,UAAK,GAAG,IAAI,IAAI,EAAE,CAAC;IAQmB,CAAC;IACvC,QAAQ;QACN,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE;YACvC,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,QAAQ,CAAC,CAAC;YACvC,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YACpC,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,gDAAgD;QAChD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;IACzD,CAAC;IACD,eAAe;QACb,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YAC3C,IAAI,EAAE,CAAC,IAAI,EAAE,yDAAU,CAAC,OAAO,CAAC,CAAC,yDAAU,CAAC,SAAS,CAAC,EAAE,CAAC,EAAE,yDAAU,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE,yDAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;YACnH,WAAW,EAAE,CAAC,IAAI,EAAE,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC;YAC1C,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC;YACnC,QAAQ,EAAE,CAAC,IAAI,EAAE,yDAAU,CAAC,OAAO,CAAC,CAAC,yDAAU,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,yDAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC1F,IAAI,EAAE,CAAC,IAAI,EAAE,yDAAU,CAAC,QAAQ,CAAC;SAClC,CAAC,CAAC;IACL,CAAC;IAED,UAAU;QACR,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACpD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAE,GAAG,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;QACvG,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QACvC,MAAM,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC;QACvC,qIAAqI;QACrI,MAAM,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QAClD,OAAO,CAAC,GAAG,CAAC,uBAAuB,EAAE,UAAU,CAAC,CAAC;QACjD,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;QAC/B,iGAAiG;QACjG,gDAAgD;QAChD,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC;QAC1D,MAAM,QAAQ,GAAG,MAAM,CAAC,EAAE,CAAC;QAC3B,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC;QACpC,IAAI,CAAC,mBAAmB,GAAG,sBAAsB,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI;YACpE,oBAAoB,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI;YACvC,eAAe;YACf,WAAW,GAAI,IAAI,CAAC,IAAI,GAAG,IAAI;YAC/B,kBAAkB,GAAG,UAAU,GAAG,IAAI;YACtC,WAAW,GAAG,IAAI,CAAC,IAAI,GAAG,MAAM;YAChC,eAAe,GAAG,WAAW,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI;YAChD,aAAa,GAAG,QAAQ,GAAG,QAAQ,GAAG,KAAK;YAC3C,mBAAmB,GAAG,QAAQ,GAAG,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC;QAC7D,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;QACrD,MAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;QAC1D,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,CAAC,SAAS,CACzC,IAAI,CAAC,EAAE;YACL,OAAO,CAAC,GAAG,CAAC,yBAAyB,EAAE,IAAI,CAAC,CAAC;YAC7C,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;QACxC,CAAC,EACD,KAAK,CAAC,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;QAC9B,CAAC,CACJ,CAAC;QACF,gDAAgD;QAChD,sCAAsC;QACtC,gCAAgC;QAChC,IAAI;QACJ,sCAAsC;QACtC,4BAA4B;QAC5B,IAAI;QACJ,0CAA0C;IAC5C,CAAC;IAED,gBAAgB,CAAC,OAAO;QACtB,gHAAgH;QAChH,OAAO,CAAC,GAAG,CAAC,yBAAyB,EAAE,OAAO,CAAC,CAAC;QAChD,MAAM,GAAG,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,6CAA6C,CAAC;QACjF,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;IACtC,CAAC;CACF;;YA3E4B,8DAAc;YACf,+DAAU;YACH,0DAAW;YACf,yDAAW;YACZ,sDAAM;;AAdvB,cAAc;IAL1B,+DAAS,CAAC;QACT,QAAQ,EAAE,iBAAiB;QAC3B,gKAAsC;;KAEvC,CAAC;2EAW2B,8DAAc;QACf,+DAAU;QACH,0DAAW;QACf,yDAAW;QACZ,sDAAM;GAdvB,cAAc,CAqF1B;AArF0B","file":"donner-donate-food-donate-food-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Donate Food</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <form [formGroup]=\\\"donateFoodForm\\\">\\n    <ion-grid>\\n      <ion-row color=\\\"justify-content-center\\\">\\n        <ion-col class=\\\"ion-align-self-center\\\" size-md=\\\"6\\\" size-lg=\\\"5\\\" size-xs=\\\"12\\\">\\n          <div class=\\\"ion-text-center\\\">\\n            <h3>Provide Food Information</h3>\\n          </div>\\n          <div class=\\\"ion-padding\\\">\\n            <ion-item>\\n              <ion-input placeholder=\\\"Enter Name\\\" formControlName=\\\"name\\\"></ion-input>\\n            </ion-item>\\n            <ion-item>\\n              <ion-datetime placeholder=\\\"Expiry Date\\\" pickerFormat=\\\"YYYY MM DD\\\" formControlName=\\\"expiry_date\\\"></ion-datetime>\\n            </ion-item>\\n            <ion-item>\\n              <ion-label position=\\\"floating\\\">Select Type</ion-label>\\n              <ion-select formControlName=\\\"type\\\" placeholder=\\\"--Select--\\\" okText=\\\"Okay\\\" cancelText=\\\"Dismiss\\\">\\n                <ion-select-option value=\\\"fast Food\\\">Fast Food</ion-select-option>\\n                <ion-select-option value=\\\"rise\\\">Rise</ion-select-option>\\n                <ion-select-option value=\\\"simple food\\\">Simple Food</ion-select-option>\\n              </ion-select>\\n            </ion-item>\\n            <ion-item>\\n              <ion-input placeholder=\\\"Quantity\\\" formControlName=\\\"quantity\\\"></ion-input>\\n            </ion-item>\\n            <ion-item>\\n              <ion-label position=\\\"floating\\\">Unit</ion-label>\\n              <ion-select formControlName=\\\"unit\\\" placeholder=\\\"--Select--\\\" okText=\\\"Okay\\\" cancelText=\\\"Dismiss\\\">\\n                <ion-select-option *ngFor=\\\"let item of units\\\" value=\\\"{{item}}\\\">{{item}}</ion-select-option>\\n              </ion-select>\\n            </ion-item>\\n          </div>\\n          <div class=\\\"ion-padding\\\">\\n            <ion-button size=\\\"default\\\" [disabled]=\\\"donateFoodForm.invalid\\\" (click)=\\\"donateFood()\\\" color=\\\"primary\\\" type=\\\"submit\\\" expand=\\\"block\\\">Donate Food</ion-button>\\n          </div>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </form>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DonateFoodPage } from './donate-food.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DonateFoodPage\n  }\n];\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        RouterModule.forChild(routes),\n        ReactiveFormsModule\n    ],\n  declarations: [DonateFoodPage]\n})\nexport class DonateFoodPageModule {}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Rvbm5lci9kb25hdGUtZm9vZC9kb25hdGUtZm9vZC5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {HttpClient} from '@angular/common/http';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {Observable} from 'rxjs';\nimport {ListService} from '../../list.service';\n\n@Component({\n  selector: 'app-donate-food',\n  templateUrl: './donate-food.page.html',\n  styleUrls: ['./donate-food.page.scss'],\n})\nexport class DonateFoodPage implements OnInit {\n  private charityID;\n  donateFoodForm: FormGroup;\n  data: Observable<any>;\n  units: string [] = ['grams', 'kilo grams', 'dozen', 'pieces'];\n  charityHouse: any;\n  today = new Date();\n  date;\n  finalDonationObject;\n  dateTill;\n  constructor(private route: ActivatedRoute,\n              private http: HttpClient,\n              private formBuilder: FormBuilder,\n              private service: ListService,\n              private router: Router) { }\n  ngOnInit() {\n    this.route.paramMap.subscribe(paramMap => {\n      console.log('charity-house', paramMap);\n      this.charityID = paramMap.get('id');\n      console.log('id', this.charityID);\n    });\n    this.formInitializer();\n    // this.today.setDate(this.today.getDate() + 3);\n    this.dateTill = this.today.toISOString().substr(0, 10);\n  }\n  formInitializer() {\n    this.donateFoodForm = this.formBuilder.group({\n      name: [null, Validators.compose([Validators.maxLength(50), Validators.pattern('[a-zA-Z ]*'), Validators.required])],\n      expiry_date: [null, [Validators.required]],\n      type: [null, [Validators.required]],\n      quantity: [null, Validators.compose([Validators.pattern('[0-9 ]*'), Validators.required])],\n      unit: [null, Validators.required]\n    });\n  }\n\n  donateFood() {\n    console.log('unit', this.donateFoodForm.value.unit);\n    this.date = this.today.getFullYear() + '-' + (this.today.getMonth() + 1 ) + '-' + this.today.getDate();\n    console.log('current date', this.date);\n    const test = this.donateFoodForm.value;\n    // const dateFromForm = test.expiry_date.getFullYear() + '-' + (test.expiry_date.getMonth() + 1 ) + '-' + test.expiry_date.getDate();\n    const dateFormat = test.expiry_date.split('T')[0];\n    console.log('date after conversion', dateFormat);\n    console.log('form data', test);\n    // This id will comes from the service, because when user will login, his ID will save to service\n    // and retrieved at time of send data to server.\n    const donner = JSON.parse(localStorage.getItem('donner'));\n    const donnerID = donner.id;\n    console.log('donner id ', donnerID);\n    this.finalDonationObject = '{\"quantityValue\" : \"' + test.quantity + '\",' +\n        '\"quantityUnit\" : \"' + test.unit + '\",' +\n        '\"foodItem\": {' +\n        '\"name\": \"' +  test.name + '\",' +\n        '\"expiry_date\": \"' + dateFormat + '\",' +\n        '\"type\": \"' + test.type + '\" },' +\n        '\"donation\": {' + '\"date\": \"' + this.date + '\",' +\n        '\"donner\": {' + '\"id\": ' + donnerID + ' },' +\n        '\"charityHouse\": {' + '\"id\": ' + this.charityID + ' }}}';\n    console.log('full object', this.finalDonationObject);\n    const foodDonation = JSON.parse(this.finalDonationObject);\n    this.saveFoodDonation(foodDonation).subscribe(\n        data => {\n          console.log('I got this response -> ', data);\n          this.router.navigate(['charityList']);\n        },\n        error => {\n          console.log('error', error);\n        }\n    );\n    // console.log('expiry date', test.expiry_date);\n    // if (test.expiry_date < this.date) {\n    //   alert('date is not valid');\n    // }\n    // if (test.expiry_date > this.date) {\n    //   alert('date is valid');\n    // }\n    // console.log(this.donateFoodForm.value);\n  }\n\n  saveFoodDonation(dataObj): Observable<any> {\n    // const url = 'http://test-node-api-test.herokuapp.com/students/newStudent'; // This link is working coorectly.\n    console.log('data recieved for put. ', dataObj);\n    const url = `${this.service.homeUrl}/foodDonationDetails/newFoodDonationDetails`;\n    return this.http.post(url, dataObj);\n  }\n}\n"],"sourceRoot":""}
{"version":3,"sources":["./src/app/donner/reports/reports.page.html","./src/app/donner/reports/reports.module.ts","./src/app/donner/reports/reports.page.scss","./src/app/donner/reports/reports.page.ts"],"names":[],"mappings":"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","file":"donner-reports-reports-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"secondary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button (click)=\\\"loadDonnerList()\\\" *ngIf=\\\"admin\\\"></ion-back-button>\\n      <ion-menu-button *ngIf=\\\"!admin\\\"></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>Reports</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content *ngIf=\\\"!isEmpty\\\">\\n  <ion-list class=\\\"ion-no-padding\\\" no-lines *ngFor=\\\"let item of result\\\">\\n    <ion-card class=\\\"ion-no-padding\\\">\\n      <ion-card-header>\\n        <ion-card-title>{{item?.type}}</ion-card-title>\\n        <ion-card-subtitle>{{item?.message}}</ion-card-subtitle>\\n      </ion-card-header>\\n      <ion-card-content>\\n        <ion-item no-lines>\\n          <ion-label color=\\\"green\\\">Details</ion-label>\\n          <ion-img *ngIf=\\\"!item?.show\\\" (click)=\\\"expandCLick(item)\\\" style=\\\"width: 20px; height: 20px;\\\" src=\\\"/assets/down-arrow.svg\\\"\\n                   alt=\\\"down\\\" slot=\\\"end\\\"></ion-img>\\n          <ion-img *ngIf=\\\"item?.show\\\" (click)=\\\"expandCLick(item)\\\" style=\\\"width: 20px; height: 20px;\\\" src=\\\"/assets/up-arrow.svg\\\"\\n                   alt=\\\"up\\\" slot=\\\"end\\\"></ion-img>\\n        </ion-item>\\n        <ion-card-content class=\\\"ion-no-padding\\\" *ngIf=\\\"item?.show\\\">\\n          <p>Sender: {{ item?.charityHouse?.email }}</p>\\n          <p>receiver: {{ item?.donner?.user?.email }}</p>\\n        </ion-card-content>\\n      </ion-card-content>\\n    </ion-card>\\n  </ion-list>\\n</ion-content>\\n\\n<ion-content *ngIf=\\\"isEmpty\\\">\\n  <div class=\\\"fullheight xc\\\">\\n    <div>\\n      <h3 class=\\\"item-color\\\">No Report</h3>\\n    </div>\\n  </div>\\n</ion-content>\\n\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ReportsPage } from './reports.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ReportsPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ReportsPage]\n})\nexport class ReportsPageModule {}\n","module.exports = \".border {\\n  box-shadow: none !important;\\n}\\n\\n.fullheight {\\n  height: 100%;\\n}\\n\\n.xc {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n}\\n\\n.item-color {\\n  color: #bababa;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZG9ubmVyL3JlcG9ydHMvQzpcXFVzZXJzXFxVc2VyXFxEb2N1bWVudHNcXEdpdEh1YlxcZm9vZC1hcHAvc3JjXFxhcHBcXGRvbm5lclxccmVwb3J0c1xccmVwb3J0cy5wYWdlLnNjc3MiLCJzcmMvYXBwL2Rvbm5lci9yZXBvcnRzL3JlcG9ydHMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsMkJBQUE7QUNDRjs7QURDQTtFQUNFLFlBQUE7QUNFRjs7QURDQTtFQUNFLG9CQUFBO0VBQUEsYUFBQTtFQUNBLHlCQUFBO1VBQUEsbUJBQUE7RUFDQSx3QkFBQTtVQUFBLHVCQUFBO0FDRUY7O0FEQUE7RUFDRSxjQUFBO0FDR0YiLCJmaWxlIjoic3JjL2FwcC9kb25uZXIvcmVwb3J0cy9yZXBvcnRzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5ib3JkZXJ7XHJcbiAgYm94LXNoYWRvdzogbm9uZSAhaW1wb3J0YW50O1xyXG59XHJcbi5mdWxsaGVpZ2h0IHtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuXHJcbi54YyB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG59XHJcbi5pdGVtLWNvbG9ye1xyXG4gIGNvbG9yOiAjYmFiYWJhO1xyXG59XHJcbiIsIi5ib3JkZXIge1xuICBib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7XG59XG5cbi5mdWxsaGVpZ2h0IHtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuXG4ueGMge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuLml0ZW0tY29sb3Ige1xuICBjb2xvcjogI2JhYmFiYTtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {Storage} from '@ionic/storage';\nimport {ListService} from '../../list.service';\nimport {HttpClient} from '@angular/common/http';\nimport {Observable} from 'rxjs';\n\n@Component({\n  selector: 'app-reports',\n  templateUrl: './reports.page.html',\n  styleUrls: ['./reports.page.scss'],\n})\nexport class ReportsPage implements OnInit {\n  constructor(public router: Router,\n              private route: ActivatedRoute,\n              private storage: Storage,\n              private service: ListService,\n              public http: HttpClient) {\n  }\n  user;\n  donner: boolean;\n  id;\n  reportList: any = [];\n  result: any = [];\n  admin: boolean;\n  data: Observable<any>;\n  donnerID;\n  isEmpty = false;\n  ngOnInit() {\n    this.route.paramMap.subscribe(paramMap => {\n      this.donnerID = paramMap.get('id');\n      console.log('id', this.donnerID);\n    });\n    console.log('id', this.donnerID);\n    this.http.get(`${this.service.homeUrl}/reports/findByDonner/${this.donnerID}`,\n        {observe: 'response'}).subscribe(response => {\n      if (response.status === 200 || response.status === 201) {\n        console.log('responce', response.body);\n        this.reportList = response.body;\n        console.log('data loading from API');\n        this.result = this.reportList.content;\n        console.log('length', this.result.length);\n        if (this.result.length === 0) {\n          this.isEmpty = true;\n        }\n        console.log('result', this.result);\n        localStorage.removeItem('reportList');\n        localStorage.setItem('reportList', JSON.stringify(this.result));\n        console.log('reportList : ', this.reportList.content);\n      }\n      // You can access status:\n      console.log('status code', response.status);\n      console.log('complete content', response.body);\n      // Or any other header:\n      console.log('X-Custom-Header', response.headers.get('X-Custom-Header'));\n    }, (error) => {\n      console.log('data loading from loadData function.');\n      console.log('error', error);\n    });\n    console.log('result' + this.result);\n    this.loadData();\n  }\n\n  loadData() {\n    // this.result = JSON.parse(localStorage.getItem('user'));\n    this.user = localStorage.getItem('role');\n    console.log('role', this.user);\n    if (this.user === 'donner') {\n      this.donner = true;\n    }\n    if (this.user === 'admin') {\n      this.admin = true;\n    }\n    console.log('admin role', this.user);\n    console.log('donner role', this.user);\n  }\n\n  expandCLick(item) {\n    item.show = !item.show;\n  }\n\n  loadDonnerList() {\n      if (this.admin) {\n    this.router.navigate(['/tabs']);\n  } else {\n          this.router.navigate(['/profile']);\n      }\n  }\n}\n"],"sourceRoot":""}